<?xml version="1.0" encoding="utf-8" ?>
<configuration>

  <configSections>
    <section name="nlog" type="NLog.Config.ConfigSectionHandler, NLog"/>
  </configSections>

  <nlog>
    <rules>
      <logger name="*" minlevel="Debug" writeTo="AsyncRollingLogFile" />
    </rules>

    <targets>
      <target name="AsyncRollingLogFile"
              type="AsyncWrapper"
              queueLimit="10000"
              timeToSleepBetweenBatches="0"
              batchSize="200"
              overflowAction="Grow">
        <target name="RollingLogFile" type="File"
                fileName="C:\Development\Logging Frameworks POC\net-logging-frameworks-performance-test\logs\NLog.RollingFile.log" 
                deleteOldFileOnStartup="true"
                keepFileOpen="true"

                concurrentWrites="true"
                openFileCacheTimeout="30"
                autoFlush="false"
                openFileFlushTimeout="30"

                archiveNumbering="Rolling"
                maxArchiveFiles="20"
                archiveAboveSize="52428800"
                archiveFileName="C:\Development\Logging Frameworks POC\net-logging-frameworks-performance-test\logs\archived\NLog.RollingFile.log" 
                layout="${date:format=yyyy-MM-dd HH\:mm\:ss.fff} [${threadname}] ${level:uppercase=true} ${logger} - ${message}" />
      </target>
    </targets>
  </nlog>
  
</configuration>